{"ast":null,"code":"import _slicedToArray from \"/Users/jlc7191/Code/RoadKagaWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jlc7191/Code/RoadKagaWeb/src/components/MessageBox/MessageBox.js\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { putAweMSGAsync, putBooMSGAsync, putContentMSGAsync, delMSGAsync } from '../../action/Learn2MessageAction';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport MessageChildBox from './MessageChildBox';\nimport { ReactComponent as Beard } from \"@svgr/webpack?-svgo,+ref!../../icon/Learn2Message/beard.svg\";\nimport { ReactComponent as Hair } from \"@svgr/webpack?-svgo,+ref!../../icon/Learn2Message/curly-hair.svg\";\nimport { ReactComponent as Hairstyle } from \"@svgr/webpack?-svgo,+ref!../../icon/Learn2Message/hairstyle.svg\";\nimport { ReactComponent as Hairstyle2 } from \"@svgr/webpack?-svgo,+ref!../../icon/Learn2Message/hairstyle2.svg\";\nimport { ReactComponent as Moustache } from \"@svgr/webpack?-svgo,+ref!../../icon/Learn2Message/moustache.svg\";\n\nconst MessageBox = props => {\n  //Hook useState\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        edit = _useState2[0],\n        setEdit = _useState2[1];\n\n  const _useState3 = useState(props.content),\n        _useState4 = _slicedToArray(_useState3, 2),\n        msgContent = _useState4[0],\n        setMsgContent = _useState4[1];\n\n  const _useState5 = useState('hide'),\n        _useState6 = _slicedToArray(_useState5, 2),\n        alert = _useState6[0],\n        setalert = _useState6[1]; // 直接把redux的store用變數裝 方便使用\n\n\n  let reduxData = props.msgs; // 然後跟傳進來id做比對，進而拿到這個messageBox的redux資料\n\n  let thisData = reduxData.filter(el => el.id === props.id);\n  let thisDataNA = thisData[0] ? thisData[0] : thisData; //儲存丟回上一層處理 no-db\n\n  const feedbackClick = () => {\n    props.feedbackClick(props.id);\n  }; // 按讚跟噓 完成\n  // 在這層直接跟redux溝通\n\n\n  const aweClick = () => {\n    thisDataNA.awesome++;\n    props.putAweMSGAsync(thisDataNA);\n  };\n\n  const booClick = () => {\n    thisDataNA.boo++;\n    props.putBooMSGAsync(thisDataNA);\n  }; // 內容編輯  也是直接在這層處理\n\n\n  const messageViewEditChange = event => {\n    setMsgContent(event.target.value);\n  }; //編輯按鈕\n\n\n  const editClick = () => {\n    if (edit === true) {\n      let newText = document.getElementById('editContentTextarea' + props.id);\n      thisDataNA.content = newText.value;\n      props.putContentMSGAsync(thisDataNA);\n      setEdit(false);\n    } else {\n      setEdit(true);\n    }\n  }; // 留言刪除 完成\n\n\n  const delClick = () => {\n    let box = document.getElementById('box' + props.id);\n\n    if (props.msgs.length !== 1) {\n      box.classList.add('Out');\n      setTimeout(() => {\n        props.delMSGAsync(thisDataNA.id);\n      }, 1000);\n    } else {\n      setalert('show');\n    }\n  };\n\n  const messageViewEditButtonSave = () => {\n    let newText = document.getElementById('editContentTextarea' + props.id);\n    thisDataNA.content = newText.value;\n    props.putContentMSGAsync(thisDataNA);\n    setEdit(false);\n  }; //下列為hover 完成\n\n\n  const aweMouseOver = () => {\n    let changeArea = document.getElementById('awe' + props.id);\n    changeArea.classList.add('aweOver');\n  };\n\n  const aweMouseOut = () => {\n    let changeArea = document.getElementById('awe' + props.id);\n    changeArea.classList.remove('aweOver');\n  };\n\n  const booMouseOver = () => {\n    let changeArea = document.getElementById('boo' + props.id);\n    changeArea.classList.add('booOver');\n  };\n\n  const booMouseOut = () => {\n    let changeArea = document.getElementById('boo' + props.id);\n    changeArea.classList.remove('booOver');\n  };\n\n  const feedbackMouseOver = () => {\n    let changeArea = document.getElementById('feeback' + props.id);\n    changeArea.classList.add('Over');\n  };\n\n  const feedbackMouseOut = () => {\n    let changeArea = document.getElementById('feeback' + props.id);\n    changeArea.classList.remove('Over');\n  };\n\n  const messageViewEditButtonOver = () => {\n    let editContentBtn = document.getElementById('editContentBtn' + props.id);\n    editContentBtn.classList.add('Over');\n  };\n\n  const messageViewEditButtonOut = () => {\n    let editContentBtn = document.getElementById('editContentBtn' + props.id);\n    editContentBtn.classList.remove('Over');\n  };\n\n  const delMouseOver = () => {\n    let changeArea = document.getElementById('delIcon' + props.id);\n    changeArea.classList.add('Over');\n  };\n\n  const delMouseOut = () => {\n    let changeArea = document.getElementById('delIcon' + props.id);\n    changeArea.classList.remove('Over');\n  };\n\n  const editMouseOver = () => {\n    let changeArea = document.getElementById('editIcon' + props.id);\n    changeArea.classList.add('Over');\n  };\n\n  const editMouseOut = () => {\n    let changeArea = document.getElementById('editIcon' + props.id);\n    changeArea.classList.remove('Over');\n  };\n\n  const hideAlert = () => {\n    setalert('hide');\n  }; //處理時間格式\n\n\n  const nowTime = +new Date();\n  const messageTime = props.time;\n  let time = nowTime - messageTime;\n  let secondnumber = time / 1000;\n  let minutenumber = time / 60000;\n  let daynumber = time / 86400000;\n  let monthnumber = time / 2592000000;\n  let yearnumber = time / 31104000000; // 秒\n\n  let second = Math.floor(secondnumber % 60); // 分鐘\n\n  let minute = minutenumber % 60 >= 1 ? Math.floor(minutenumber % 60) : ''; // 小時\n\n  let hour = minutenumber / 60 >= 1 ? Math.floor(minutenumber / 60) : ''; // 天\n\n  let day = daynumber % 30 >= 1 ? Math.floor(daynumber % 30) : ''; // 月\n\n  let month = monthnumber % 12 >= 1 ? Math.floor(monthnumber % 12) : ''; // 年\n\n  let year = yearnumber >= 1 ? Math.floor(yearnumber) : '';\n  let showTimeText = year >= 1 && month >= 1 ? year + '年' + month + '個月' : year >= 1 ? year + '年' : month >= 1 ? month + '個月' : day >= 1 ? day + '天' : hour >= 1 ? hour + '小時' : minute >= 1 ? minute + '分鐘' : second + '秒';\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    id: 'box' + props.id,\n    className: \"messageViewBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"messageViewBoxMain\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"messageViewBoxLeft\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"messageViewAvatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, props.avatar === 'Beard' ? React.createElement(Beard, {\n    alt: \"logo\",\n    width: \"50px\",\n    height: \"50px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }) : props.avatar === 'Hair' ? React.createElement(Hair, {\n    alt: \"logo\",\n    width: \"50px\",\n    height: \"50px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }) : props.avatar === 'Hairstyle' ? React.createElement(Hairstyle, {\n    alt: \"logo\",\n    width: \"50px\",\n    height: \"50px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }) : props.avatar === 'Hairstyle2' ? React.createElement(Hairstyle2, {\n    alt: \"logo\",\n    width: \"50px\",\n    height: \"50px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }) : React.createElement(Moustache, {\n    alt: \"logo\",\n    width: \"50px\",\n    height: \"50px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"messageViewABB\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"aweBooBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: 'awe' + props.id,\n    className: \"messageViewAweOrNot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-thumbs-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }), props.awesome), React.createElement(\"div\", {\n    className: \"fakeArea\",\n    onClick: aweClick,\n    onMouseOver: aweMouseOver,\n    onMouseOut: aweMouseOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"aweBooBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: 'boo' + props.id,\n    className: \"messageViewAweOrNot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-thumbs-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }), props.boo), React.createElement(\"div\", {\n    className: \"fakeArea\",\n    onClick: booClick,\n    onMouseOver: booMouseOver,\n    onMouseOut: booMouseOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: 'feeback' + props.id,\n    className: \"messageViewFeedBack\",\n    onClick: feedbackClick,\n    onMouseOver: feedbackMouseOver,\n    onMouseOut: feedbackMouseOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"far fa-comment-dots\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }), \"\\u56DE\\u8986\"))), React.createElement(\"ul\", {\n    className: \"messageViewBoxUL\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"ff1 font3 fc1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, props.name, React.createElement(\"small\", {\n    style: {\n      marginLeft: '5px',\n      color: '#aaa'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, props.company)), edit === true ? React.createElement(\"div\", {\n    className: \"messageViewEditIng add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    id: 'editContent' + props.id,\n    className: \"ff1 font5 fc3 messageViewBoxContent\",\n    style: {\n      width: '93%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    id: 'editContentTextarea' + props.id,\n    onChange: messageViewEditChange,\n    value: msgContent,\n    style: {\n      border: 'none',\n      boxShadow: 'none',\n      width: '100%',\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: 'editContentBtn' + props.id,\n    className: \"messageViewEditButton\",\n    onClick: messageViewEditButtonSave,\n    onMouseOver: messageViewEditButtonOver,\n    onMouseOut: messageViewEditButtonOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"far fa-paper-plane\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }))) : React.createElement(\"div\", {\n    className: \"messageViewEditIng\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"ff1 font5 fc3 messageViewBoxContent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, msgContent)), React.createElement(\"li\", {\n    className: \"ff1 font5 fc3 messageViewBoxTime\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, showTimeText, \"\\u524D\"))), React.createElement(\"div\", {\n    className: \"messageViewEditDelArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: 'delIcon' + props.id,\n    className: \"messageViewDelBox\",\n    onClick: delClick,\n    onMouseOver: delMouseOver,\n    onMouseOut: delMouseOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-trash\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: 'editIcon' + props.id,\n    className: \"messageViewEditBox\",\n    onClick: editClick,\n    onMouseOver: editMouseOver,\n    onMouseOut: editMouseOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  })))), props.cmsgs.map(el => el.id === props.id ? React.createElement(MessageChildBox, {\n    key: el.cId,\n    id: el.id,\n    cId: el.cId,\n    mId: props.id,\n    cName: el.cName,\n    cCompany: el.cCompany,\n    cAvatar: el.cAvatar,\n    cContent: el.cContent,\n    cTime: el.cTime,\n    cAwesome: el.cAwesome,\n    cBoo: el.cBoo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }) : '')), alert === 'show' ? React.createElement(SweetAlert, {\n    error: true,\n    onConfirm: hideAlert,\n    show: true,\n    title: \"\\u624B\\u4E0B\\u7559\\u60C5\\u554A\\uFF01\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, \"\\u53EA\\u5269\\u4E00\\u7B46\\u4E86\\u62C9\\uFF01\\u4F60\\u662F\\u522A\\u4E0A\\u766E\\u4E86\\u81A9\\uFF5E\") : '');\n}; // 綁定 redux store\n// 綁定 props.msgs <=> store.msgs\n\n\nconst mapStateToProps = store => ({\n  msgs: store.msgs,\n  cmsgs: store.cmsgs\n}); // 綁定 redux dispatch\n// 第3種，: redux(state)綁定到此元件的props、部份綁定action creator\n// 這個action creator就是上面引入的那個\n\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  putAweMSGAsync,\n  putBooMSGAsync,\n  putContentMSGAsync,\n  delMSGAsync\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessageBox);","map":{"version":3,"sources":["/Users/jlc7191/Code/RoadKagaWeb/src/components/MessageBox/MessageBox.js"],"names":["React","useState","connect","bindActionCreators","putAweMSGAsync","putBooMSGAsync","putContentMSGAsync","delMSGAsync","SweetAlert","MessageChildBox","MessageBox","props","edit","setEdit","content","msgContent","setMsgContent","alert","setalert","reduxData","msgs","thisData","filter","el","id","thisDataNA","feedbackClick","aweClick","awesome","booClick","boo","messageViewEditChange","event","target","value","editClick","newText","document","getElementById","delClick","box","length","classList","add","setTimeout","messageViewEditButtonSave","aweMouseOver","changeArea","aweMouseOut","remove","booMouseOver","booMouseOut","feedbackMouseOver","feedbackMouseOut","messageViewEditButtonOver","editContentBtn","messageViewEditButtonOut","delMouseOver","delMouseOut","editMouseOver","editMouseOut","hideAlert","nowTime","Date","messageTime","time","secondnumber","minutenumber","daynumber","monthnumber","yearnumber","second","Math","floor","minute","hour","day","month","year","showTimeText","avatar","name","marginLeft","color","company","width","border","boxShadow","height","cmsgs","map","cId","cName","cCompany","cAvatar","cContent","cTime","cAwesome","cBoo","mapStateToProps","store","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SACEC,cADF,EAEEC,cAFF,EAGEC,kBAHF,EAIEC,WAJF,QAKO,kCALP;AAMA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;;;;;;AAOA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AAC1B;AAD0B,oBAEFV,QAAQ,CAAC,KAAD,CAFN;AAAA;AAAA,QAEnBW,IAFmB;AAAA,QAEbC,OAFa;;AAAA,qBAGUZ,QAAQ,CAACU,KAAK,CAACG,OAAP,CAHlB;AAAA;AAAA,QAGnBC,UAHmB;AAAA,QAGPC,aAHO;;AAAA,qBAIAf,QAAQ,CAAC,MAAD,CAJR;AAAA;AAAA,QAInBgB,KAJmB;AAAA,QAIZC,QAJY,kBAM1B;;;AACA,MAAIC,SAAS,GAAGR,KAAK,CAACS,IAAtB,CAP0B,CAQ1B;;AACA,MAAIC,QAAQ,GAAGF,SAAS,CAACG,MAAV,CAAiBC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUb,KAAK,CAACa,EAAvC,CAAf;AACA,MAAIC,UAAU,GAAGJ,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAtB,GAA4BA,QAA7C,CAV0B,CAY1B;;AACA,QAAMK,aAAa,GAAG,MAAM;AAC1Bf,IAAAA,KAAK,CAACe,aAAN,CAAoBf,KAAK,CAACa,EAA1B;AACD,GAFD,CAb0B,CAiB1B;AACA;;;AACA,QAAMG,QAAQ,GAAG,MAAM;AACrBF,IAAAA,UAAU,CAACG,OAAX;AACAjB,IAAAA,KAAK,CAACP,cAAN,CAAqBqB,UAArB;AACD,GAHD;;AAIA,QAAMI,QAAQ,GAAG,MAAM;AACrBJ,IAAAA,UAAU,CAACK,GAAX;AACAnB,IAAAA,KAAK,CAACN,cAAN,CAAqBoB,UAArB;AACD,GAHD,CAvB0B,CA4B1B;;;AACA,QAAMM,qBAAqB,GAAGC,KAAK,IAAI;AACrChB,IAAAA,aAAa,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACD,GAFD,CA7B0B,CAgC1B;;;AACA,QAAMC,SAAS,GAAG,MAAM;AACtB,QAAIvB,IAAI,KAAK,IAAb,EAAmB;AACjB,UAAIwB,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,wBAAwB3B,KAAK,CAACa,EAAtD,CAAd;AACAC,MAAAA,UAAU,CAACX,OAAX,GAAqBsB,OAAO,CAACF,KAA7B;AACAvB,MAAAA,KAAK,CAACL,kBAAN,CAAyBmB,UAAzB;AACAZ,MAAAA,OAAO,CAAC,KAAD,CAAP;AACD,KALD,MAKO;AACLA,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,GATD,CAjC0B,CA2C1B;;;AACA,QAAM0B,QAAQ,GAAG,MAAM;AACrB,QAAIC,GAAG,GAAGH,QAAQ,CAACC,cAAT,CAAwB,QAAQ3B,KAAK,CAACa,EAAtC,CAAV;;AACA,QAAIb,KAAK,CAACS,IAAN,CAAWqB,MAAX,KAAsB,CAA1B,EAA6B;AAC3BD,MAAAA,GAAG,CAACE,SAAJ,CAAcC,GAAd,CAAkB,KAAlB;AACAC,MAAAA,UAAU,CAAC,MAAM;AACfjC,QAAAA,KAAK,CAACJ,WAAN,CAAkBkB,UAAU,CAACD,EAA7B;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KALD,MAKO;AACLN,MAAAA,QAAQ,CAAC,MAAD,CAAR;AACD;AACF,GAVD;;AAYA,QAAM2B,yBAAyB,GAAG,MAAM;AACtC,QAAIT,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,wBAAwB3B,KAAK,CAACa,EAAtD,CAAd;AACAC,IAAAA,UAAU,CAACX,OAAX,GAAqBsB,OAAO,CAACF,KAA7B;AACAvB,IAAAA,KAAK,CAACL,kBAAN,CAAyBmB,UAAzB;AACAZ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GALD,CAxD0B,CA+D1B;;;AACA,QAAMiC,YAAY,GAAG,MAAM;AACzB,QAAIC,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,QAAQ3B,KAAK,CAACa,EAAtC,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBC,GAArB,CAAyB,SAAzB;AACD,GAHD;;AAIA,QAAMK,WAAW,GAAG,MAAM;AACxB,QAAID,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,QAAQ3B,KAAK,CAACa,EAAtC,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBO,MAArB,CAA4B,SAA5B;AACD,GAHD;;AAIA,QAAMC,YAAY,GAAG,MAAM;AACzB,QAAIH,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,QAAQ3B,KAAK,CAACa,EAAtC,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBC,GAArB,CAAyB,SAAzB;AACD,GAHD;;AAIA,QAAMQ,WAAW,GAAG,MAAM;AACxB,QAAIJ,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,QAAQ3B,KAAK,CAACa,EAAtC,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBO,MAArB,CAA4B,SAA5B;AACD,GAHD;;AAIA,QAAMG,iBAAiB,GAAG,MAAM;AAC9B,QAAIL,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,YAAY3B,KAAK,CAACa,EAA1C,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBC,GAArB,CAAyB,MAAzB;AACD,GAHD;;AAIA,QAAMU,gBAAgB,GAAG,MAAM;AAC7B,QAAIN,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,YAAY3B,KAAK,CAACa,EAA1C,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBO,MAArB,CAA4B,MAA5B;AACD,GAHD;;AAIA,QAAMK,yBAAyB,GAAG,MAAM;AACtC,QAAIC,cAAc,GAAGlB,QAAQ,CAACC,cAAT,CAAwB,mBAAmB3B,KAAK,CAACa,EAAjD,CAArB;AACA+B,IAAAA,cAAc,CAACb,SAAf,CAAyBC,GAAzB,CAA6B,MAA7B;AACD,GAHD;;AAIA,QAAMa,wBAAwB,GAAG,MAAM;AACrC,QAAID,cAAc,GAAGlB,QAAQ,CAACC,cAAT,CAAwB,mBAAmB3B,KAAK,CAACa,EAAjD,CAArB;AACA+B,IAAAA,cAAc,CAACb,SAAf,CAAyBO,MAAzB,CAAgC,MAAhC;AACD,GAHD;;AAIA,QAAMQ,YAAY,GAAG,MAAM;AACzB,QAAIV,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,YAAY3B,KAAK,CAACa,EAA1C,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBC,GAArB,CAAyB,MAAzB;AACD,GAHD;;AAIA,QAAMe,WAAW,GAAG,MAAM;AACxB,QAAIX,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,YAAY3B,KAAK,CAACa,EAA1C,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBO,MAArB,CAA4B,MAA5B;AACD,GAHD;;AAIA,QAAMU,aAAa,GAAG,MAAM;AAC1B,QAAIZ,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,aAAa3B,KAAK,CAACa,EAA3C,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBC,GAArB,CAAyB,MAAzB;AACD,GAHD;;AAIA,QAAMiB,YAAY,GAAG,MAAM;AACzB,QAAIb,UAAU,GAAGV,QAAQ,CAACC,cAAT,CAAwB,aAAa3B,KAAK,CAACa,EAA3C,CAAjB;AACAuB,IAAAA,UAAU,CAACL,SAAX,CAAqBO,MAArB,CAA4B,MAA5B;AACD,GAHD;;AAIA,QAAMY,SAAS,GAAG,MAAM;AACtB3C,IAAAA,QAAQ,CAAC,MAAD,CAAR;AACD,GAFD,CAhH0B,CAoH1B;;;AACA,QAAM4C,OAAO,GAAG,CAAC,IAAIC,IAAJ,EAAjB;AACA,QAAMC,WAAW,GAAGrD,KAAK,CAACsD,IAA1B;AACA,MAAIA,IAAI,GAAGH,OAAO,GAAGE,WAArB;AACA,MAAIE,YAAY,GAAGD,IAAI,GAAG,IAA1B;AACA,MAAIE,YAAY,GAAGF,IAAI,GAAG,KAA1B;AACA,MAAIG,SAAS,GAAGH,IAAI,GAAG,QAAvB;AACA,MAAII,WAAW,GAAGJ,IAAI,GAAG,UAAzB;AACA,MAAIK,UAAU,GAAGL,IAAI,GAAG,WAAxB,CA5H0B,CA6H1B;;AACA,MAAIM,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWP,YAAY,GAAG,EAA1B,CAAb,CA9H0B,CA+H1B;;AACA,MAAIQ,MAAM,GAAGP,YAAY,GAAG,EAAf,IAAqB,CAArB,GAAyBK,IAAI,CAACC,KAAL,CAAWN,YAAY,GAAG,EAA1B,CAAzB,GAAyD,EAAtE,CAhI0B,CAiI1B;;AACA,MAAIQ,IAAI,GAAGR,YAAY,GAAG,EAAf,IAAqB,CAArB,GAAyBK,IAAI,CAACC,KAAL,CAAWN,YAAY,GAAG,EAA1B,CAAzB,GAAyD,EAApE,CAlI0B,CAmI1B;;AACA,MAAIS,GAAG,GAAGR,SAAS,GAAG,EAAZ,IAAkB,CAAlB,GAAsBI,IAAI,CAACC,KAAL,CAAWL,SAAS,GAAG,EAAvB,CAAtB,GAAmD,EAA7D,CApI0B,CAqI1B;;AACA,MAAIS,KAAK,GAAGR,WAAW,GAAG,EAAd,IAAoB,CAApB,GAAwBG,IAAI,CAACC,KAAL,CAAWJ,WAAW,GAAG,EAAzB,CAAxB,GAAuD,EAAnE,CAtI0B,CAuI1B;;AACA,MAAIS,IAAI,GAAGR,UAAU,IAAI,CAAd,GAAkBE,IAAI,CAACC,KAAL,CAAWH,UAAX,CAAlB,GAA2C,EAAtD;AACA,MAAIS,YAAY,GACdD,IAAI,IAAI,CAAR,IAAaD,KAAK,IAAI,CAAtB,GACIC,IAAI,GAAG,GAAP,GAAaD,KAAb,GAAqB,IADzB,GAEIC,IAAI,IAAI,CAAR,GACAA,IAAI,GAAG,GADP,GAEAD,KAAK,IAAI,CAAT,GACAA,KAAK,GAAG,IADR,GAEAD,GAAG,IAAI,CAAP,GACAA,GAAG,GAAG,GADN,GAEAD,IAAI,IAAI,CAAR,GACAA,IAAI,GAAG,IADP,GAEAD,MAAM,IAAI,CAAV,GACAA,MAAM,GAAG,IADT,GAEAH,MAAM,GAAG,GAbf;AAeA,SACE,0CACE;AAAK,IAAA,EAAE,EAAE,QAAQ5D,KAAK,CAACa,EAAvB;AAA2B,IAAA,SAAS,EAAC,gBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,KAAK,CAACqE,MAAN,KAAiB,OAAjB,GACC,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAC,MAAX;AAAkB,IAAA,KAAK,EAAC,MAAxB;AAA+B,IAAA,MAAM,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAEGrE,KAAK,CAACqE,MAAN,KAAiB,MAAjB,GACF,oBAAC,IAAD;AAAM,IAAA,GAAG,EAAC,MAAV;AAAiB,IAAA,KAAK,EAAC,MAAvB;AAA8B,IAAA,MAAM,EAAC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAEArE,KAAK,CAACqE,MAAN,KAAiB,WAAjB,GACF,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAC,MAAf;AAAsB,IAAA,KAAK,EAAC,MAA5B;AAAmC,IAAA,MAAM,EAAC,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAEArE,KAAK,CAACqE,MAAN,KAAiB,YAAjB,GACF,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAC,MAAhB;AAAuB,IAAA,KAAK,EAAC,MAA7B;AAAoC,IAAA,MAAM,EAAC,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,GAGF,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAC,MAAf;AAAsB,IAAA,KAAK,EAAC,MAA5B;AAAmC,IAAA,MAAM,EAAC,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADF,EAcE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAE,QAAQrE,KAAK,CAACa,EAAvB;AAA2B,IAAA,SAAS,EAAC,qBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGb,KAAK,CAACiB,OAFT,CADF,EAKE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,OAAO,EAAED,QAFX;AAGE,IAAA,WAAW,EAAEmB,YAHf;AAIE,IAAA,UAAU,EAAEE,WAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAaE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAE,QAAQrC,KAAK,CAACa,EAAvB;AAA2B,IAAA,SAAS,EAAC,qBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGb,KAAK,CAACmB,GAFT,CADF,EAKE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,OAAO,EAAED,QAFX;AAGE,IAAA,WAAW,EAAEqB,YAHf;AAIE,IAAA,UAAU,EAAEC,WAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAbF,EAyBE;AACE,IAAA,EAAE,EAAE,YAAYxC,KAAK,CAACa,EADxB;AAEE,IAAA,SAAS,EAAC,qBAFZ;AAGE,IAAA,OAAO,EAAEE,aAHX;AAIE,IAAA,WAAW,EAAE0B,iBAJf;AAKE,IAAA,UAAU,EAAEC,gBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAG,IAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,iBAzBF,CAdF,CADF,EAoDE;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,KAAK,CAACsE,IADT,EAEE;AAAO,IAAA,KAAK,EAAE;AAAEC,MAAAA,UAAU,EAAE,KAAd;AAAqBC,MAAAA,KAAK,EAAE;AAA5B,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxE,KAAK,CAACyE,OADT,CAFF,CADF,EAOGxE,IAAI,KAAK,IAAT,GACC;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,EAAE,EAAE,gBAAgBD,KAAK,CAACa,EAD5B;AAEE,IAAA,SAAS,EAAC,qCAFZ;AAGE,IAAA,KAAK,EAAE;AAAE6D,MAAAA,KAAK,EAAE;AAAT,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,EAAE,EAAE,wBAAwB1E,KAAK,CAACa,EADpC;AAEE,IAAA,QAAQ,EAAEO,qBAFZ;AAGE,IAAA,KAAK,EAAEhB,UAHT;AAIE,IAAA,KAAK,EAAE;AACLuE,MAAAA,MAAM,EAAE,MADH;AAELC,MAAAA,SAAS,EAAE,MAFN;AAGLF,MAAAA,KAAK,EAAE,MAHF;AAILG,MAAAA,MAAM,EAAE;AAJH,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAkBE;AACE,IAAA,EAAE,EAAE,mBAAmB7E,KAAK,CAACa,EAD/B;AAEE,IAAA,SAAS,EAAC,uBAFZ;AAGE,IAAA,OAAO,EAAEqB,yBAHX;AAIE,IAAA,WAAW,EAAES,yBAJf;AAKE,IAAA,UAAU,EAAEE,wBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAlBF,CADD,GA8BC;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,qCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzC,UADH,CADF,CArCJ,EA2CE;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIgE,YAAJ,WADF,CA3CF,CApDF,EAmGE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,EAAE,EAAE,YAAYpE,KAAK,CAACa,EADxB;AAEE,IAAA,SAAS,EAAC,mBAFZ;AAGE,IAAA,OAAO,EAAEe,QAHX;AAIE,IAAA,WAAW,EAAEkB,YAJf;AAKE,IAAA,UAAU,EAAEC,WALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,EAUE;AACE,IAAA,EAAE,EAAE,aAAa/C,KAAK,CAACa,EADzB;AAEE,IAAA,SAAS,EAAC,oBAFZ;AAGE,IAAA,OAAO,EAAEW,SAHX;AAIE,IAAA,WAAW,EAAEwB,aAJf;AAKE,IAAA,UAAU,EAAEC,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAVF,CAnGF,CAFF,EA2HGjD,KAAK,CAAC8E,KAAN,CAAYC,GAAZ,CAAgBnE,EAAE,IACjBA,EAAE,CAACC,EAAH,KAAUb,KAAK,CAACa,EAAhB,GACE,oBAAC,eAAD;AACE,IAAA,GAAG,EAAED,EAAE,CAACoE,GADV;AAEE,IAAA,EAAE,EAAEpE,EAAE,CAACC,EAFT;AAGE,IAAA,GAAG,EAAED,EAAE,CAACoE,GAHV;AAIE,IAAA,GAAG,EAAEhF,KAAK,CAACa,EAJb;AAKE,IAAA,KAAK,EAAED,EAAE,CAACqE,KALZ;AAME,IAAA,QAAQ,EAAErE,EAAE,CAACsE,QANf;AAOE,IAAA,OAAO,EAAEtE,EAAE,CAACuE,OAPd;AAQE,IAAA,QAAQ,EAAEvE,EAAE,CAACwE,QARf;AASE,IAAA,KAAK,EAAExE,EAAE,CAACyE,KATZ;AAUE,IAAA,QAAQ,EAAEzE,EAAE,CAAC0E,QAVf;AAWE,IAAA,IAAI,EAAE1E,EAAE,CAAC2E,IAXX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,GAeE,EAhBH,CA3HH,CADF,EAgJGjF,KAAK,KAAK,MAAV,GACC,oBAAC,UAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,SAAS,EAAE4C,SAFb;AAGE,IAAA,IAAI,EAAE,IAHR;AAIE,IAAA,KAAK,EAAC,sCAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGADD,GAQC,EAxJJ,CADF;AA6JD,CArTD,C,CAuTA;AACA;;;AACA,MAAMsC,eAAe,GAAGC,KAAK,KAAK;AAAEhF,EAAAA,IAAI,EAAEgF,KAAK,CAAChF,IAAd;AAAoBqE,EAAAA,KAAK,EAAEW,KAAK,CAACX;AAAjC,CAAL,CAA7B,C,CAEA;AACA;AACA;;;AACA,MAAMY,kBAAkB,GAAGC,QAAQ,IACjCnG,kBAAkB,CAChB;AAAEC,EAAAA,cAAF;AAAkBC,EAAAA,cAAlB;AAAkCC,EAAAA,kBAAlC;AAAsDC,EAAAA;AAAtD,CADgB,EAEhB+F,QAFgB,CADpB;;AAMA,eAAepG,OAAO,CACpBiG,eADoB,EAEpBE,kBAFoB,CAAP,CAGb3F,UAHa,CAAf","sourcesContent":["import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport {\n  putAweMSGAsync,\n  putBooMSGAsync,\n  putContentMSGAsync,\n  delMSGAsync,\n} from '../../action/Learn2MessageAction'\nimport SweetAlert from 'react-bootstrap-sweetalert'\nimport MessageChildBox from './MessageChildBox'\nimport { ReactComponent as Beard } from '../../icon/Learn2Message/beard.svg'\nimport { ReactComponent as Hair } from '../../icon/Learn2Message/curly-hair.svg'\nimport { ReactComponent as Hairstyle } from '../../icon/Learn2Message/hairstyle.svg'\nimport { ReactComponent as Hairstyle2 } from '../../icon/Learn2Message/hairstyle2.svg'\nimport { ReactComponent as Moustache } from '../../icon/Learn2Message/moustache.svg'\n\nconst MessageBox = props => {\n  //Hook useState\n  const [edit, setEdit] = useState(false)\n  const [msgContent, setMsgContent] = useState(props.content)\n  const [alert, setalert] = useState('hide')\n\n  // 直接把redux的store用變數裝 方便使用\n  let reduxData = props.msgs\n  // 然後跟傳進來id做比對，進而拿到這個messageBox的redux資料\n  let thisData = reduxData.filter(el => el.id === props.id)\n  let thisDataNA = thisData[0] ? thisData[0] : thisData\n\n  //儲存丟回上一層處理 no-db\n  const feedbackClick = () => {\n    props.feedbackClick(props.id)\n  }\n\n  // 按讚跟噓 完成\n  // 在這層直接跟redux溝通\n  const aweClick = () => {\n    thisDataNA.awesome++\n    props.putAweMSGAsync(thisDataNA)\n  }\n  const booClick = () => {\n    thisDataNA.boo++\n    props.putBooMSGAsync(thisDataNA)\n  }\n\n  // 內容編輯  也是直接在這層處理\n  const messageViewEditChange = event => {\n    setMsgContent(event.target.value)\n  }\n  //編輯按鈕\n  const editClick = () => {\n    if (edit === true) {\n      let newText = document.getElementById('editContentTextarea' + props.id)\n      thisDataNA.content = newText.value\n      props.putContentMSGAsync(thisDataNA)\n      setEdit(false)\n    } else {\n      setEdit(true)\n    }\n  }\n  // 留言刪除 完成\n  const delClick = () => {\n    let box = document.getElementById('box' + props.id)\n    if (props.msgs.length !== 1) {\n      box.classList.add('Out')\n      setTimeout(() => {\n        props.delMSGAsync(thisDataNA.id)\n      }, 1000)\n    } else {\n      setalert('show')\n    }\n  }\n\n  const messageViewEditButtonSave = () => {\n    let newText = document.getElementById('editContentTextarea' + props.id)\n    thisDataNA.content = newText.value\n    props.putContentMSGAsync(thisDataNA)\n    setEdit(false)\n  }\n\n  //下列為hover 完成\n  const aweMouseOver = () => {\n    let changeArea = document.getElementById('awe' + props.id)\n    changeArea.classList.add('aweOver')\n  }\n  const aweMouseOut = () => {\n    let changeArea = document.getElementById('awe' + props.id)\n    changeArea.classList.remove('aweOver')\n  }\n  const booMouseOver = () => {\n    let changeArea = document.getElementById('boo' + props.id)\n    changeArea.classList.add('booOver')\n  }\n  const booMouseOut = () => {\n    let changeArea = document.getElementById('boo' + props.id)\n    changeArea.classList.remove('booOver')\n  }\n  const feedbackMouseOver = () => {\n    let changeArea = document.getElementById('feeback' + props.id)\n    changeArea.classList.add('Over')\n  }\n  const feedbackMouseOut = () => {\n    let changeArea = document.getElementById('feeback' + props.id)\n    changeArea.classList.remove('Over')\n  }\n  const messageViewEditButtonOver = () => {\n    let editContentBtn = document.getElementById('editContentBtn' + props.id)\n    editContentBtn.classList.add('Over')\n  }\n  const messageViewEditButtonOut = () => {\n    let editContentBtn = document.getElementById('editContentBtn' + props.id)\n    editContentBtn.classList.remove('Over')\n  }\n  const delMouseOver = () => {\n    let changeArea = document.getElementById('delIcon' + props.id)\n    changeArea.classList.add('Over')\n  }\n  const delMouseOut = () => {\n    let changeArea = document.getElementById('delIcon' + props.id)\n    changeArea.classList.remove('Over')\n  }\n  const editMouseOver = () => {\n    let changeArea = document.getElementById('editIcon' + props.id)\n    changeArea.classList.add('Over')\n  }\n  const editMouseOut = () => {\n    let changeArea = document.getElementById('editIcon' + props.id)\n    changeArea.classList.remove('Over')\n  }\n  const hideAlert = () => {\n    setalert('hide')\n  }\n\n  //處理時間格式\n  const nowTime = +new Date()\n  const messageTime = props.time\n  let time = nowTime - messageTime\n  let secondnumber = time / 1000\n  let minutenumber = time / 60000\n  let daynumber = time / 86400000\n  let monthnumber = time / 2592000000\n  let yearnumber = time / 31104000000\n  // 秒\n  let second = Math.floor(secondnumber % 60)\n  // 分鐘\n  let minute = minutenumber % 60 >= 1 ? Math.floor(minutenumber % 60) : ''\n  // 小時\n  let hour = minutenumber / 60 >= 1 ? Math.floor(minutenumber / 60) : ''\n  // 天\n  let day = daynumber % 30 >= 1 ? Math.floor(daynumber % 30) : ''\n  // 月\n  let month = monthnumber % 12 >= 1 ? Math.floor(monthnumber % 12) : ''\n  // 年\n  let year = yearnumber >= 1 ? Math.floor(yearnumber) : ''\n  let showTimeText =\n    year >= 1 && month >= 1\n      ? year + '年' + month + '個月'\n      : year >= 1\n      ? year + '年'\n      : month >= 1\n      ? month + '個月'\n      : day >= 1\n      ? day + '天'\n      : hour >= 1\n      ? hour + '小時'\n      : minute >= 1\n      ? minute + '分鐘'\n      : second + '秒'\n\n  return (\n    <>\n      <div id={'box' + props.id} className=\"messageViewBox\">\n        {/* 主要留言 */}\n        <div className=\"messageViewBoxMain\">\n          <div className=\"messageViewBoxLeft\">\n            <div className=\"messageViewAvatar\">\n              {props.avatar === 'Beard' ? (\n                <Beard alt=\"logo\" width=\"50px\" height=\"50px\" />\n              ) : props.avatar === 'Hair' ? (\n                <Hair alt=\"logo\" width=\"50px\" height=\"50px\" />\n              ) : props.avatar === 'Hairstyle' ? (\n                <Hairstyle alt=\"logo\" width=\"50px\" height=\"50px\" />\n              ) : props.avatar === 'Hairstyle2' ? (\n                <Hairstyle2 alt=\"logo\" width=\"50px\" height=\"50px\" />\n              ) : (\n                <Moustache alt=\"logo\" width=\"50px\" height=\"50px\" />\n              )}\n            </div>\n            <div className=\"messageViewABB\">\n              <div className=\"aweBooBox\">\n                <div id={'awe' + props.id} className=\"messageViewAweOrNot\">\n                  <i className=\"fas fa-thumbs-up\" />\n                  {props.awesome}\n                </div>\n                <div\n                  className=\"fakeArea\"\n                  onClick={aweClick}\n                  onMouseOver={aweMouseOver}\n                  onMouseOut={aweMouseOut}\n                />\n              </div>\n              <div className=\"aweBooBox\">\n                <div id={'boo' + props.id} className=\"messageViewAweOrNot\">\n                  <i className=\"fas fa-thumbs-down\" />\n                  {props.boo}\n                </div>\n                <div\n                  className=\"fakeArea\"\n                  onClick={booClick}\n                  onMouseOver={booMouseOver}\n                  onMouseOut={booMouseOut}\n                />\n              </div>\n              <div\n                id={'feeback' + props.id}\n                className=\"messageViewFeedBack\"\n                onClick={feedbackClick}\n                onMouseOver={feedbackMouseOver}\n                onMouseOut={feedbackMouseOut}\n              >\n                <i className=\"far fa-comment-dots\" />\n                回覆\n              </div>\n            </div>\n          </div>\n          <ul className=\"messageViewBoxUL\">\n            <li className=\"ff1 font3 fc1\">\n              {props.name}\n              <small style={{ marginLeft: '5px', color: '#aaa' }}>\n                {props.company}\n              </small>\n            </li>\n            {edit === true ? (\n              <div className=\"messageViewEditIng add\">\n                <li\n                  id={'editContent' + props.id}\n                  className=\"ff1 font5 fc3 messageViewBoxContent\"\n                  style={{ width: '93%' }}\n                >\n                  <textarea\n                    id={'editContentTextarea' + props.id}\n                    onChange={messageViewEditChange}\n                    value={msgContent}\n                    style={{\n                      border: 'none',\n                      boxShadow: 'none',\n                      width: '100%',\n                      height: '100%',\n                    }}\n                  />\n                </li>\n                <div\n                  id={'editContentBtn' + props.id}\n                  className=\"messageViewEditButton\"\n                  onClick={messageViewEditButtonSave}\n                  onMouseOver={messageViewEditButtonOver}\n                  onMouseOut={messageViewEditButtonOut}\n                >\n                  <i className=\"far fa-paper-plane\" />\n                </div>\n              </div>\n            ) : (\n              <div className=\"messageViewEditIng\">\n                <li className=\"ff1 font5 fc3 messageViewBoxContent\">\n                  {msgContent}\n                </li>\n              </div>\n            )}\n            <li className=\"ff1 font5 fc3 messageViewBoxTime\">\n              <p>{showTimeText}前</p>\n            </li>\n          </ul>\n          <div className=\"messageViewEditDelArea\">\n            <div\n              id={'delIcon' + props.id}\n              className=\"messageViewDelBox\"\n              onClick={delClick}\n              onMouseOver={delMouseOver}\n              onMouseOut={delMouseOut}\n            >\n              <i className=\"fas fa-trash\" />\n            </div>\n            <div\n              id={'editIcon' + props.id}\n              className=\"messageViewEditBox\"\n              onClick={editClick}\n              onMouseOver={editMouseOver}\n              onMouseOut={editMouseOut}\n            >\n              <i className=\"fas fa-edit\" />\n            </div>\n          </div>\n        </div>\n        {/* 回覆留言 */}\n        {props.cmsgs.map(el =>\n          el.id === props.id ? (\n            <MessageChildBox\n              key={el.cId}\n              id={el.id}\n              cId={el.cId}\n              mId={props.id}\n              cName={el.cName}\n              cCompany={el.cCompany}\n              cAvatar={el.cAvatar}\n              cContent={el.cContent}\n              cTime={el.cTime}\n              cAwesome={el.cAwesome}\n              cBoo={el.cBoo}\n            />\n          ) : (\n            ''\n          )\n        )}\n      </div>\n      {alert === 'show' ? (\n        <SweetAlert\n          error\n          onConfirm={hideAlert}\n          show={true}\n          title=\"手下留情啊！\"\n        >只剩一筆了拉！你是刪上癮了膩～</SweetAlert>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\n// 綁定 redux store\n// 綁定 props.msgs <=> store.msgs\nconst mapStateToProps = store => ({ msgs: store.msgs, cmsgs: store.cmsgs })\n\n// 綁定 redux dispatch\n// 第3種，: redux(state)綁定到此元件的props、部份綁定action creator\n// 這個action creator就是上面引入的那個\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    { putAweMSGAsync, putBooMSGAsync, putContentMSGAsync, delMSGAsync },\n    dispatch\n  )\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MessageBox)\n"]},"metadata":{},"sourceType":"module"}